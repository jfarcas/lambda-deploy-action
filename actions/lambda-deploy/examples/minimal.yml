# Simple Lambda deployment configuration
# This is the minimal configuration needed for deployment

project:
  name: "my-lambda-function"
  runtime: "python"
  versions:
    python: "3.9"

build:
  commands:
    install: "pip install -r requirements.txt"  # Required: How to install dependencies
    # lint: "flake8 ."                          # Optional: Lint command (leave empty to skip)
    # test: "python -m pytest tests/"          # Optional: Test command (leave empty to skip)
    build: "auto"                               # Required: How to build (auto = automatic packaging)

environments:
  dev:
    trigger_branches: ["main", "feature/**"]
    aws:
      auth_type: "access_key"
  
  prod:
    aws:
      auth_type: "oidc"
    deployment:
      versioning: true
      notifications: true

# Optional: Health check (disabled by default)
deployment:
  health_check:
    enabled: false
  
  # Optional: Auto-rollback (disabled by default)
  auto_rollback:
    enabled: false
