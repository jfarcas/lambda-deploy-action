# Basic Node.js Lambda Configuration
# Simple configuration for Node.js Lambda functions

project:
  name: "my-nodejs-lambda"
  runtime: "nodejs"
  versions:
    nodejs: "20"

build:
  commands:
    install: "npm ci"
    lint: "npm run lint"
    test: "npm test"
    build: "npm run build"

environments:
  dev:
    trigger_branches: ["main", "feature/**"]
    aws:
      auth_type: "access_key"
  
  pre:
    trigger_branches: ["main"]
    aws:
      auth_type: "access_key"
  
  prod:
    aws:
      auth_type: "access_key"

deployment:
  health_check:
    enabled: true
    test_payload_object:
      action: "ping"
      source: "deployment-test"
    expected_status_code: 200
    expected_response_contains: "pong"
