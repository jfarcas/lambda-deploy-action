<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Actions Versioning Guide - Multi-Repository Enterprise</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        h1 {
            color: white;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            margin-top: 15px;
        }
        h2 {
            color: #34495e;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-left: 15px;
            border-left: 5px solid #3498db;
            font-size: 1.8em;
        }
        h3 {
            color: #2980b9;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
        }
        .yaml-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
        }
        .highlight {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 5px solid #f39c12;
        }
        .warning {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 5px solid #dc3545;
        }
        .success {
            background-color: #d1edff;
            border: 1px solid #b8daff;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 5px solid #007bff;
        }
        .info {
            background-color: #e3f2fd;
            border: 1px solid #bbdefb;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 5px solid #2196f3;
        }
        .version-timeline {
            display: grid;
            gap: 20px;
            margin: 30px 0;
        }
        .version-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 6px solid #28a745;
            position: relative;
        }
        .version-card.major { border-left-color: #dc3545; }
        .version-card.minor { border-left-color: #ffc107; }
        .version-card.patch { border-left-color: #28a745; }
        .version-number {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .version-date {
            color: #6c757d;
            font-size: 0.9em;
            margin-bottom: 15px;
        }
        .version-type {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }
        .version-type.major { background: #dc3545; color: white; }
        .version-type.minor { background: #ffc107; color: #212529; }
        .version-type.patch { background: #28a745; color: white; }
        .strategy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        .strategy-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        .strategy-card:hover {
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .strategy-card h4 {
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .pros, .cons {
            padding: 15px;
            border-radius: 8px;
        }
        .pros {
            background: #d4edda;
            border: 1px solid #c3e6cb;
        }
        .cons {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
        }
        .pros h5, .cons h5 {
            margin-top: 0;
            margin-bottom: 10px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: left;
        }
        th {
            background-color: #3498db;
            font-weight: bold;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #e3f2fd;
        }
        .best-practice {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
            border: 2px solid #2196f3;
        }
        .best-practice h4 {
            color: #1565c0;
            margin-top: 0;
            margin-bottom: 15px;
        }
        .migration-flow {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
            border: 1px solid #dee2e6;
        }
        .step-indicator {
            background: #3498db;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            font-size: 16px;
        }
        .rollback-section {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
            border: 2px solid #f39c12;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>GitHub Actions Versioning Guide</h1>
            <p class="subtitle">Enterprise Multi-Repository Strategy for Lambda Deploy Actions</p>
        </div>

        <section id="overview">
            <h2>üéØ Overview</h2>
            
            <p>This guide outlines the versioning strategy for GitHub Actions in enterprise environments, specifically for the Generic Lambda Deploy Action across multiple repositories. It covers semantic versioning, release strategies, and migration practices for maintaining 20+ Lambda repositories.</p>

            <div class="info">
                <strong>üè¢ Enterprise Context:</strong> This versioning strategy is designed for organizations managing multiple Lambda functions across various teams and environments, requiring stability, predictability, and clear upgrade paths.
            </div>
        </section>

        <section id="semantic-versioning">
            <h2>üìä Semantic Versioning Strategy</h2>
            
            <p>We follow <a href="https://semver.org/" target="_blank">Semantic Versioning (SemVer)</a> for all action releases:</p>

            <div class="version-timeline">
                <div class="version-card major">
                    <div class="version-type major">Major</div>
                    <div class="version-number">X.0.0</div>
                    <div class="version-date">Breaking Changes</div>
                    <p><strong>When to use:</strong> Incompatible API changes, configuration structure changes, or removal of features.</p>
                    <p><strong>Impact:</strong> Requires migration work in consuming repositories.</p>
                    <p><strong>Example:</strong> Future major version changes (v1.0.0 ‚Üí v2.0.0)</p>
                </div>

                <div class="version-card minor">
                    <div class="version-type minor">Minor</div>
                    <div class="version-number">X.Y.0</div>
                    <div class="version-date">New Features</div>
                    <p><strong>When to use:</strong> New functionality in backward-compatible manner, new optional configuration fields.</p>
                    <p><strong>Impact:</strong> Safe to upgrade, existing configurations continue to work.</p>
                    <p><strong>Example:</strong> v1.0.0 ‚Üí v1.1.0 (Multi-region deployment support)</p>
                </div>

                <div class="version-card patch">
                    <div class="version-type patch">Patch</div>
                    <div class="version-number">X.Y.Z</div>
                    <div class="version-date">Bug Fixes</div>
                    <p><strong>When to use:</strong> Bug fixes, security patches, performance improvements.</p>
                    <p><strong>Impact:</strong> Safe to upgrade immediately, no configuration changes needed.</p>
                    <p><strong>Example:</strong> v1.0.0 ‚Üí v1.0.1 (Fix YAML parsing edge case)</p>
                </div>
            </div>
        </section>

        <section id="tagging-strategy">
            <h2>üè∑Ô∏è Tagging & Release Strategy</h2>
            
            <h3>Tag Format</h3>
            <div class="code-block">
# Full semantic version tags
lambda-deploy/v1.0.0
lambda-deploy/v1.1.0  
lambda-deploy/v1.1.1

# Major version aliases (for convenience)
lambda-deploy/v1

# Latest stable (automatically updated)
lambda-deploy/latest
            </div>

            <h3>Release Process</h3>
            <div class="migration-flow">
                <h4>Standard Release Workflow</h4>
                <p><span class="step-indicator">1</span><strong>Development:</strong> Create and test changes in feature branches</p>
                <p><span class="step-indicator">2</span><strong>Documentation:</strong> Update CHANGELOG.md and documentation</p>
                <p><span class="step-indicator">3</span><strong>Testing:</strong> Validate in test repository environments</p>
                <p><span class="step-indicator">4</span><strong>Tagging:</strong> Create semantic version tag with detailed release notes</p>
                <p><span class="step-indicator">5</span><strong>Communication:</strong> Notify teams of new release and migration requirements</p>
                <p><span class="step-indicator">6</span><strong>Migration:</strong> Support teams in upgrading their repositories</p>
            </div>

            <div class="code-block">
# Example release commands
git checkout main
git pull origin main

# Update CHANGELOG.md and documentation
git add CHANGELOG.md README.md
git commit -m "docs: prepare v2.1.0 release"

# Create and push tag
git tag -a lambda-deploy/v1.1.0 -m "Release v1.1.0: Multi-region deployment support"
git push origin main --tags

# Update major version alias
git tag -f lambda-deploy/v1
git push origin lambda-deploy/v1 --force
            </div>
        </section>

        <section id="versioning-strategies">
            <h2>üéØ Versioning Strategies</h2>
            
            <div class="strategy-grid">
                <div class="strategy-card">
                    <h4>üìå Pinned Versions (Recommended for Production)</h4>
                    <div class="code-block">
action-ref: "YourOrg/devops-actions/.github/actions/lambda-deploy@lambda-deploy/v1.0.0"
                    </div>
                    <div class="pros-cons">
                        <div class="pros">
                            <h5>‚úÖ Pros</h5>
                            <ul>
                                <li>Predictable deployments</li>
                                <li>No unexpected changes</li>
                                <li>Easy rollback capability</li>
                                <li>Compliance-friendly</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <h5>‚ùå Cons</h5>
                            <ul>
                                <li>Manual update process</li>
                                <li>May miss security patches</li>
                                <li>Requires change management</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="strategy-card">
                    <h4>üîÑ Major Version Tracking (Balanced Approach)</h4>
                    <div class="code-block">
action-ref: "YourOrg/devops-actions/.github/actions/lambda-deploy@lambda-deploy/v1"
                    </div>
                    <div class="pros-cons">
                        <div class="pros">
                            <h5>‚úÖ Pros</h5>
                            <ul>
                                <li>Automatic minor/patch updates</li>
                                <li>Stays current with fixes</li>
                                <li>Reduced maintenance overhead</li>
                                <li>Backward compatibility guaranteed</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <h5>‚ùå Cons</h5>
                            <ul>
                                <li>Potential unexpected behavior changes</li>
                                <li>Less control over timing</li>
                                <li>May require validation after updates</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="strategy-card">
                    <h4>üöÄ Latest Tracking (Development Only)</h4>
                    <div class="code-block">
action-ref: "YourOrg/devops-actions/.github/actions/lambda-deploy@lambda-deploy/latest"
                    </div>
                    <div class="pros-cons">
                        <div class="pros">
                            <h5>‚úÖ Pros</h5>
                            <ul>
                                <li>Always latest features</li>
                                <li>Minimal maintenance</li>
                                <li>Good for development/testing</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <h5>‚ùå Cons</h5>
                            <ul>
                                <li>Breaking changes without notice</li>
                                <li>Unpredictable deployments</li>
                                <li>Not suitable for production</li>
                                <li>Difficult to troubleshoot</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="best-practice">
                <h4>üèÜ Best Practice Recommendation</h4>
                <p><strong>Production:</strong> Use pinned versions (v1.0.0) with scheduled quarterly reviews for updates.</p>
                <p><strong>Development:</strong> Use major version tracking (v1) for faster access to improvements while maintaining stability.</p>
                <p><strong>Testing:</strong> Use latest for validating new features before they're released.</p>
            </div>
        </section>

        <section id="migration-planning">
            <h2>üîÑ Migration Planning & Execution</h2>
            
            <h3>Migration Phases</h3>
            <table>
                <tr><th>Phase</th><th>Duration</th><th>Activities</th><th>Rollback Plan</th></tr>
                <tr>
                    <td><strong>Planning</strong></td>
                    <td>1-2 weeks</td>
                    <td>
                        <ul>
                            <li>Review changelog and breaking changes</li>
                            <li>Identify affected repositories</li>
                            <li>Create migration timeline</li>
                            <li>Prepare communication plan</li>
                        </ul>
                    </td>
                    <td>N/A</td>
                </tr>
                <tr>
                    <td><strong>Testing</strong></td>
                    <td>1 week</td>
                    <td>
                        <ul>
                            <li>Update test repository</li>
                            <li>Validate all deployment scenarios</li>
                            <li>Test configuration changes</li>
                            <li>Document issues and solutions</li>
                        </ul>
                    </td>
                    <td>Revert test repository to previous version</td>
                </tr>
                <tr>
                    <td><strong>Development</strong></td>
                    <td>2-3 weeks</td>
                    <td>
                        <ul>
                            <li>Update development environments</li>
                            <li>Migrate 20% of repositories</li>
                            <li>Monitor deployment success</li>
                            <li>Refine migration process</li>
                        </ul>
                    </td>
                    <td>Repository-level rollback to pinned previous version</td>
                </tr>
                <tr>
                    <td><strong>Production</strong></td>
                    <td>4-6 weeks</td>
                    <td>
                        <ul>
                            <li>Gradual production rollout</li>
                            <li>Monitor metrics and alerts</li>
                            <li>Complete all repositories</li>
                            <li>Update documentation</li>
                        </ul>
                    </td>
                    <td>Fast rollback via version pinning</td>
                </tr>
            </table>

            <h3>Pre-Migration Checklist</h3>
            <div class="highlight">
                <ul>
                    <li>‚úÖ <strong>Changelog Review:</strong> Understand all changes and breaking modifications</li>
                    <li>‚úÖ <strong>Configuration Updates:</strong> Prepare updated configuration files</li>
                    <li>‚úÖ <strong>Secret Validation:</strong> Verify all required secrets and variables exist</li>
                    <li>‚úÖ <strong>Permission Check:</strong> Confirm IAM permissions meet new requirements</li>
                    <li>‚úÖ <strong>Backup Strategy:</strong> Document current versions for rollback</li>
                    <li>‚úÖ <strong>Communication:</strong> Notify all affected teams and stakeholders</li>
                    <li>‚úÖ <strong>Testing Plan:</strong> Define validation criteria for successful migration</li>
                </ul>
            </div>
        </section>

        <section id="rollback-strategy">
            <div class="rollback-section">
                <h2>‚è™ Rollback Strategy</h2>
                
                <h3>When to Rollback</h3>
                <ul>
                    <li><strong>Deployment Failures:</strong> Success rate drops below 95%</li>
                    <li><strong>Performance Issues:</strong> Build time increases by more than 25%</li>
                    <li><strong>Security Concerns:</strong> Any security-related issues discovered</li>
                    <li><strong>Business Impact:</strong> Any impact on critical business operations</li>
                </ul>

                <h3>Rollback Process</h3>
                <div class="migration-flow">
                    <p><span class="step-indicator">1</span><strong>Immediate Action:</strong> Stop new deployments using the new version</p>
                    <p><span class="step-indicator">2</span><strong>Communication:</strong> Notify all teams of rollback initiation</p>
                    <p><span class="step-indicator">3</span><strong>Version Revert:</strong> Update action references to previous stable version</p>
                    <p><span class="step-indicator">4</span><strong>Validation:</strong> Confirm rollback successful across all repositories</p>
                    <p><span class="step-indicator">5</span><strong>Investigation:</strong> Analyze issues and plan corrective actions</p>
                    <p><span class="step-indicator">6</span><strong>Documentation:</strong> Document lessons learned and improve process</p>
                </div>

                <h3>Fast Rollback Commands</h3>
                <div class="code-block">
# Emergency rollback for all repositories
# Update this in each repository's workflow file

# From problematic version
action-ref: "YourOrg/devops-actions/.github/actions/lambda-deploy@lambda-deploy/v1.1.0"

# Back to known stable version
action-ref: "YourOrg/devops-actions/.github/actions/lambda-deploy@lambda-deploy/v1.0.0"

# Or use major version alias if it's been reverted
action-ref: "YourOrg/devops-actions/.github/actions/lambda-deploy@lambda-deploy/v1"
                </div>
            </div>
        </section>

        <section id="monitoring">
            <h2>üìä Version Monitoring & Analytics</h2>
            
            <h3>Key Metrics to Track</h3>
            <table>
                <tr><th>Metric</th><th>Description</th><th>Target</th><th>Alert Threshold</th></tr>
                <tr>
                    <td><strong>Deployment Success Rate</strong></td>
                    <td>Percentage of successful deployments</td>
                    <td>&gt; 98%</td>
                    <td>&lt; 95%</td>
                </tr>
                <tr>
                    <td><strong>Build Time</strong></td>
                    <td>Average time for complete deployment</td>
                    <td>&lt; 5 minutes</td>
                    <td>&gt; 10 minutes</td>
                </tr>
                <tr>
                    <td><strong>Version Adoption</strong></td>
                    <td>Percentage of repos on latest stable version</td>
                    <td>&gt; 80%</td>
                    <td>&lt; 50%</td>
                </tr>
                <tr>
                    <td><strong>Error Rate</strong></td>
                    <td>Deployment errors per 100 deployments</td>
                    <td>&lt; 2</td>
                    <td>&gt; 5</td>
                </tr>
            </table>

            <h3>Version Usage Tracking</h3>
            <div class="info">
                <p><strong>Repository Audit:</strong> Regularly audit all repositories to track version usage and identify outdated implementations.</p>
                <div class="code-block">
# Script to check version usage across repositories
#!/bin/bash

echo "=== Lambda Deploy Action Version Audit ==="
echo "Date: $(date)"
echo ""

for repo in $(gh repo list YourOrg --limit 100 --json name -q '.[].name' | grep lambda); do
    echo "Checking $repo..."
    version=$(gh api repos/YourOrg/$repo/contents/.github/workflows/lambda-deploy.yml \
        --jq '.content' | base64 -d | grep "action-ref:" | head -1)
    echo "$repo: $version"
done
                </div>
            </div>
        </section>

        <section id="best-practices">
            <h2>üèÜ Versioning Best Practices</h2>
            
            <div class="best-practice">
                <h4>üìã Organizational Guidelines</h4>
                <ul>
                    <li><strong>Version Pinning:</strong> Always pin to specific versions in production workflows</li>
                    <li><strong>Regular Updates:</strong> Schedule quarterly reviews for version updates</li>
                    <li><strong>Testing First:</strong> Test all updates in development environments before production</li>
                    <li><strong>Gradual Rollouts:</strong> Migrate repositories in phases to minimize risk</li>
                    <li><strong>Documentation:</strong> Maintain clear changelog and migration guides</li>
                    <li><strong>Communication:</strong> Proactive communication about breaking changes</li>
                    <li><strong>Monitoring:</strong> Track adoption and success metrics continuously</li>
                </ul>
            </div>

            <h3>Version Lifecycle Management</h3>
            <table>
                <tr><th>Version Status</th><th>Support Level</th><th>Recommended Action</th><th>Timeline</th></tr>
                <tr>
                    <td><strong>Latest Stable</strong></td>
                    <td>Full support, active development</td>
                    <td>Recommended for new projects</td>
                    <td>Current</td>
                </tr>
                <tr>
                    <td><strong>Previous Major</strong></td>
                    <td>Security patches, critical fixes</td>
                    <td>Plan migration to latest</td>
                    <td>6 months</td>
                </tr>
                <tr>
                    <td><strong>Legacy</strong></td>
                    <td>Security patches only</td>
                    <td>Mandatory migration required</td>
                    <td>12 months</td>
                </tr>
                <tr>
                    <td><strong>End of Life</strong></td>
                    <td>No support</td>
                    <td>Immediate migration required</td>
                    <td>18 months</td>
                </tr>
            </table>
        </section>

        <div style="margin-top: 50px; padding: 25px; background: #f8f9fa; border-radius: 10px; text-align: center;">
            <h3>üìû Version Management Support</h3>
            <p>This versioning strategy supports enterprise-scale deployment across 20+ repositories with clear migration paths and rollback capabilities.</p>
            <div style="margin-top: 20px;">
                <strong>Current Version:</strong> v1.0.0 (Initial Production Release)<br>
                <strong>Previous Version:</strong> None (Initial Release)<br>
                <strong>Next Planned:</strong> v1.1.0 (Multi-region Support)
            </div>
        </div>

        <footer style="margin-top: 40px; text-align: center; color: #6c757d; border-top: 1px solid #dee2e6; padding-top: 20px;">
            <p><strong>GitHub Actions Versioning Guide</strong> | Enterprise Multi-Repository Strategy</p>
            <p>For technical documentation, see <a href="./lambda-deploy-guide-v2.html">Lambda Deploy Guide v1.0.0</a></p>
            <p><em>Last updated: August 21, 2025</em></p>
        </footer>
    </div>
</body>
</html>